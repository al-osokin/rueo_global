# Этап 1: Создание нового бэкенда (Lift & Shift)

**Цель:** Заменить PHP-бэкенд на Python/FastAPI, не меняя функциональность для пользователя.

### Шаг 1.0: Подготовка и анализ

- **1.0.1.** Запустить локальный экземпляр MariaDB.
- **1.0.2.** Развернуть актуальный дамп базы данных.
- **1.0.3.** Проанализировать структуру таблиц (`artikoloj`, `sercxo` и др.).
- **1.0.4.** Изучить PHP-скрипты (`vortaro_updater_8.php`, `sercxo.php`) для понимания логики:
    - Импорта данных из текстовых файлов.
    - Формирования поисковых индексов.
    - Рендеринга HTML-представления статьи.

### Шаг 1.1: Проектирование новой системы

- **1.1.1.** Спроектировать схему таблиц в PostgreSQL. На старте она будет максимально близка к существующей в MariaDB.
- **1.1.2.** Настроить базовый проект на FastAPI с подключением к Postgres. Использовать Docker для окружения.

### Шаг 1.2: Реализация импортера

- **1.2.1.** Написать Python-скрипт, который читает исходные `.txt` файлы.
- **1.2.2.** Реализовать логику парсинга и загрузки данных в новые таблицы Postgres, полностью повторяя логику `vortaro_updater_8.php`.
- **1.2.3.** Создать простой CLI-интерфейс для этого скрипта (для запуска вручную раз в 6 дней).

### Шаг 1.3: Реализация API

- **1.3.1.** Создать API-endpoint, имитирующий `sercxo.php`. Он должен:
    - Принимать поисковый запрос.
    - Находить статью в таблице `artikoloj`.
    - Генерировать HTML-представление статьи, применяя те же правила форматирования, что и в `sercxo.php`.
    - Отдавать готовый HTML.
- **1.3.2.** Создать API-endpoint для AJAX-подсказок, имитирующий текущую логику.

### Шаг 1.4: Интеграция и тестирование

- **1.4.1.** Переключить фронтенд `rueo_fronto` на новые эндпоинты.
- **1.4.2.** Провести сравнительное тестирование, чтобы убедиться, что новый бэкенд отдает идентичные старому результаты.
