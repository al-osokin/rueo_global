# Системные паттерны

## Архитектурные решения

### Компонентная структура
- **NewsFeed.vue:** Компонент для отображения новостей с поддержкой пагинации
- **Index.vue:** Главная страница с поиском и новостной лентой
- **novajxoj.vue:** Страница всех новостей с полной пагинацией
- **MainLayout.vue:** Общий макет для всех страниц

### Управление состоянием
- Локальное состояние компонентов для новостей
- LocalStorage для истории поиска (`rueo_history`)
- Реактивные пропы для передачи параметров между компонентами

### Формат данных новостей
- **Файл:** `public/news.md`
- **Формат:** Markdown с разделителем `---`
- **Структура:**
  ```markdown
  # Заголовок новости

  Полный текст с **жирным**, *курсивом*, [ссылками](url) и изображениями.

  ---

  # Следующая новость
  Её содержание...
  ```

### Маршрутизация
- Vue Router с ленивой загрузкой компонентов
- Именованные маршруты для навигации
- Вложенные маршруты для разделов (pri, gram, etc.)

## Ключевые паттерны

### 1. Парсинг новостей
```javascript
parseMarkdownNews(markdownContent) {
  // Разбор Markdown формата с разделителем ---
  // Извлечение заголовков из # H1
  // Преобразование Markdown в HTML с помощью markdown-it
  // Формирование массива объектов новостей
}
```

### 1.1. Механизм обновления новостей
```javascript
// Ручное обновление
refreshNews() {
  // Загрузка свежих новостей
  // Обновление времени последнего обновления
  // Уведомление пользователя
}

// Автоматическое обновление
startAutoUpdate() {
  // Проверка обновлений каждые 3 часа
  // Сравнение количества новостей
  // Уведомление при появлении новых новостей
}
```

### 2. Пагинация
```javascript
computed: {
  paginatedNews() {
    const start = (currentPage - 1) * itemsPerPage
    return newsItems.slice(start, start + itemsPerPage)
  }
}
```

### 3. Поиск и фильтрация
- Debounced ввод для оптимизации запросов
- Автодополнение с `q-select`
- История поиска с ограничением количества элементов
